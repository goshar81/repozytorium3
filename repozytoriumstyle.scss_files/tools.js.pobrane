App.Views.Tools=Backbone.View.extend({events:{"click nav.tools-menu li":"toggleTool"},toggleTool:function(a){var b;"string"==typeof a?b=this.$('nav.tools-menu li[data-tool="'+a+'"]'):(b=$(a.currentTarget),a=b.data("tool")),this.$("nav.tools-menu li").removeClass("active"),this.$(".card.tool").hide(),this.$(".card.tool-"+a).show(),localStorage.setItem("selectedTool",a),b.addClass("active")},initialize:function(){this.colorPicker=new App.Views.Tool.ColorPicker({el:this.$(".card.tool-color-picker")}),this.boxShadow=new App.Views.Tool.BoxShadow({el:this.$(".card.tool-box-shadow")}),this.textShadow=new App.Views.Tool.TextShadow({el:this.$(".card.tool-text-shadow")}),this.transition=new App.Views.Tool.Transition({el:this.$(".card.tool-transition")}),this.flexbox=new App.Views.Tool.Flexbox({el:this.$(".card.tool-flexbox")}),this.borderRadius=new App.Views.Tool.BorderRadius({el:this.$(".card.tool-border-radius")}),this.$el.hasClass("editor-modal")||this.toggleTool(localStorage.getItem("selectedTool")||"color-picker")}}),App.Views.Tool={},App.Views.Tool.Base=Backbone.View.extend({showCopiedPopover:function(){var a=this.$copy.popover("show");setTimeout(function(){a.popover("hide")},1500)},initialize:function(){this.$code=this.$("textarea.result-code"),this.$copy=this.$("button.copy-code"),this.$copy.popover({trigger:"manual"}),this.$demo=this.$(".demo"),new Clipboard(this.$copy.get(0))},events:function(){return{"input input":"change","change select":"change","click button.copy-code":"showCopiedPopover"}},change:function(){var a=App.Templates(this.codeTemplate)(this.data());this.$code.html(a).attr("rows",a.split("\n").length),this.setClipboardText(a),this.styleTemplate&&this.$("style").html(App.Templates(this.styleTemplate)({code:a}))},setClipboardText:function(a){this.$copy.attr("data-clipboard-text",a).prop("disabled",!1)},data:function(){var a={};return this.$el.find("select[name], input[name]").each(function(){a[$(this).attr("name")]=$(this).val()}),a}}),App.Views.Tool.Flexbox=App.Views.Tool.Base.extend({initialize:function(){this._super(),this.lorem="Lorem ipsum dolor sit amet enim Etiam ullamcorper Suspendisse a pellentesque dui non felis",this.stack=[],this.$items=this.$(".demo.flex-container"),this.addElement()},events:function(){return $.extend({"click .add-element":"addElement"},this._super())},codeTemplate:"flexboxCode",styleTemplate:"flexboxStyle",addElement:function(){this.stack.length<1&&(this.stack=this.lorem.split(" ")),$(App.Templates("flexItem")({text:this.stack.shift()})).appendTo(this.$items)}}),App.Views.Tool.BorderRadius=App.Views.Tool.Base.extend({codeTemplate:"borderRadiusCode",styleTemplate:"borderRadiusStyle"}),App.Views.Tool.Transition=App.Views.Tool.Base.extend({change:function(){clearInterval(this.transitionInterval),this._super();var a=this.$demo.toggleClass("transition"),b=this.$('[name="duration"]').val(),c=parseInt(b,10)*("ms"==b.slice(-2)?1:1e3)*2;this.transitionInterval=setInterval(function(){a.toggleClass("transition")},c)},codeTemplate:"transitionCode",styleTemplate:"transitionStyle"}),App.Views.Tool.BoxShadow=App.Views.Tool.Base.extend({codeTemplate:"boxShadowCode",styleTemplate:"boxShadowStyle"}),App.Views.Tool.TextShadow=App.Views.Tool.Base.extend({codeTemplate:"textShadowCode",styleTemplate:"textShadowStyle"}),App.Views.Tool.ColorPicker=App.Views.Tool.Base.extend({initialize:function(){this._super();var a=this,b=100,c="";this.$el.hasClass("tool-color-picker-big")&&(b=300,c="colorpicker-3x");var d={saturation:{maxLeft:b,maxTop:b,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:b,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:b,callLeft:!1,callTop:"setAlpha"}};this.$color=this.$("#color").colorpicker({customClass:c,sliders:d}).on("changeColor.colorpicker",function(b){var c=b.color.toRGB();c=c.a<1?"rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")":b.color.toHex(),a.color=c,a.change()})},data:function(){return{color:this.color}},codeTemplate:"colorPickerCode"});