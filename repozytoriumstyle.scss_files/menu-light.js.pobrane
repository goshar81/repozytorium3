App.Views.MenuLight=Backbone.View.extend({events:{"mouseover [data-toggle-target]":"handleLinkMouseover","mouseleave [data-toggle-target]":"handleLinkMouseleave",mouseleave:"closeMenubars","mouseleave [data-menubar]":"handleMenubarMouseleave"},initialize:function(){this.menubarShowTimeout=null,this.menubarHideTimeout=null,this.$allMenubars=this.$el.find("[data-menubar]"),this.menubarToggleDelay=100,this.menubarAnimationSpeed=100},closeMenubars:function(){var a=this;this.$allMenubars.each(function(){var b=$(this);b.stop().animate({top:-b.height()},a.menubarAnimationSpeed,function(){b.hide(),b.css("left",0)})})},toggleMenubar:function(a,b){var c=this,d=this.$el.find("[data-menubar]").not(b);d.each(function(){var e=$(this).data("top")+"px";$(this).stop().animate({top:e},c.menubarAnimationSpeed,function(){c.setMenubarPosition(a,b),b.show(0,function(){b.animate({top:c.$el.height()},c.menubarAnimationSpeed),d.hide()})})})},checkIfMenubarShouldHide:function(a,b){a.length&&!a.is(":hover")&&b.length&&!b.is(":hover")&&this.closeMenubars()},checkInvokerHoverState:function(a,b){a.is(":hover")&&this.toggleMenubar(a,b)},handleMenubarMouseleave:function(a){var b=this,c=$(a.target),d=c.data("menubar"),e=this.$el.find('[data-toggle-target="'+d+'"]');this.menubarHideTimeout=setTimeout(function(){b.checkIfMenubarShouldHide.call(b,e,c)},b.menubarToggleDelay)},handleLinkMouseleave:function(a){var b=this,c=$(a.target),d=c.data("toggle-target"),e=this.$el.find('[data-menubar="'+d+'"]');clearTimeout(this.menubarShowTimeout),this.menubarHideTimeout=setTimeout(function(){b.checkIfMenubarShouldHide.call(b,c,e)},b.menubarToggleDelay)},handleLinkMouseover:function(a){var b=this,c=$(a.target),d=c.data("toggle-target"),e=this.$el.find('[data-menubar="'+d+'"]');this.menubarShowTimeout=setTimeout(function(){b.checkInvokerHoverState(c,e)},b.menubarToggleDelay)},setMenubarPosition:function(a,b){if(void 0!==b.attr("data-vertical-menubar")){var c=b.data("vertical-menubar-position");switch(c){case"left":b.css("left",a.offset().left-20);break;case"right":b.css("left",a.offset().left+a.width()-b.width()+10);break;default:b.css("left",a.offset().left+a.width()/2-b.width()/2)}}}});