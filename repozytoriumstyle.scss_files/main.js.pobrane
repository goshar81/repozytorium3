_.mixin({isMicrosoftBrowser:function(){return/MSIE/i.test(navigator.userAgent)||/Edge/i.test(navigator.userAgent)||/Trident/i.test(navigator.userAgent)},cescape:function(a,b){return b?a.replace(/<c>(.*?)<\/c>/g,function(){return"<c>"+_.escape(arguments[1])+"</c>"}).replace(/<c class="block">(.*?)<\/c>/g,function(){return'<c class="block">'+_.escape(arguments[1])+"</c>"}):urlize(a,{target:"_blank",autoescape:!0}).replace(/&lt;c&gt;/g,"<c>").replace(/&lt;c class=&quot\;block&quot;&gt;/g,'<c class="block">').replace(/&lt;\/c&gt;/g,"</c>").replace(/```([\s\S]*?)```/g,function(){return'<c class="block">'+arguments[1]+"</c>"}).replace(/`(.*?)`/g,function(){return"<c>"+arguments[1]+"</c>"})},browser:function(){var a=navigator.appVersion,b="unknown",c=function(){var b=navigator.userAgent,c=b.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],d=void 0;return/trident/i.test(c[1])?(d=/\brv[ :]+(\d+)/g.exec(b)||[],{browser:"IE",version:d[1]||""}):"Chrome"===c[1]&&(d=b.match(/\bOPR\/(\d+)/),null!==d)?{browser:"Opera",version:d[1]}:(c=c[2]?[c[1],c[2]]:[navigator.appName,a,"-?"],null!==(d=b.match(/version\/(\d+)/i))&&c.splice(1,1,d[1]),{name:c[0],version:c[1]})}();switch(!0){case a.indexOf("Win")>-1:b="Windows";break;case a.indexOf("Mac")>-1:b="MacOS";break;case a.indexOf("X11")>-1:b="UNIX";break;case a.indexOf("Linux")>-1:b="Linux"}return c.os=b,c}}),App.Views.Main=Backbone.View.extend({events:{'click [data-toggle="modal"]':"modalToggleFix","click .tabs>a":"toggleTab","click .select-box":"toggleDropdown","click .select-box>li":"pickUpDropdownOption","mouseleave .select-box":"closeExpandedDropdown",'click [data-action="show-details"]':"showDetails",'change input[type="checkbox"][data-custom-message]':"checkIfIsValid"},initialize:function(){this.scrollToBasicPosition(),this.$('[data-toggle="popover"]').popover(),this.$('[data-toggle="tooltip"]').tooltip(),this.ajaxSetup(),this.customizeValidateMessage(),this.$(".lessons h2").prev().addClass("bottom-border-radius")},showDetails:function(a){a.preventDefault();var b=$(a.currentTarget),c=b.data("identifier");$('[data-identifier="'+c+'"]').removeClass("display-none"),b.remove()},ajaxSetup:function(){$.ajaxSetup({success:function(a){a&&a.redirect&&window.location.replace(a.redirect),a&&a.message&&App.alertsView.showSuccess(a)}}),$.ajaxPrefilter(function(a,b,c){c.setRequestHeader("X-CSRF-TOKEN",$('meta[name="csrf-token"]').attr("content"));var d=a.error;a.error=function(a){var c=a.responseJSON||{};return c.token?($('meta[name="csrf-token"]').attr("content",c.token),$.ajax(b)):void(d&&d.apply(this,arguments)||(c.redirect&&window.location.replace(c.redirect),422!=c.status&&403!=c.status||App.alertsView.showErrors(c.responseJSON),422==a.status&&App.alertsView.showErrors(c)))}})},modalToggleFix:function(){var a=this;setTimeout(function(){a.$el.addClass("modal-open")},1e3)},toggleTab:function(a){if(!$(a.currentTarget).hasClass("active")){this.$(".tabs>a").removeClass("active"),this.$(".tab-content").removeClass("active"),$(a.currentTarget).addClass("active");var b="#"+$(a.currentTarget).data("tab");this.$(b).addClass("active")}},toggleDropdown:function(a){$(a.currentTarget).toggleClass("expand")},pickUpDropdownOption:function(a){var b=$(a.currentTarget).text(),c=$(a.currentTarget).parent(),d=c.children("input"),e=c.children("li:eq(0)");e.text(b),d.val(b)},closeExpandedDropdown:function(a){$(a.currentTarget).removeClass("expand")},scrollToBasicPosition:function(){if(this.el.hasAttribute("data-basic-position")){var a=this.$el.data("basic-position");""!==a&&$("html, body").scrollTop($(a).offset().top-$(".bootcamp-nav").height())}},customizeValidateMessage:function(){for(var a=$("input[data-custom-message]"),b=0;b<a.length;b++)a[b].setCustomValidity(a[b].getAttribute("data-custom-message"))},checkIfIsValid:function(a){var b=$(a.currentTarget);return b.prop("checked")||"required"!==b.attr("required")?a.currentTarget.setCustomValidity(""):a.currentTarget.setCustomValidity(a.currentTarget.getAttribute("data-custom-message"))}});